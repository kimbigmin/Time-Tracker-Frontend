{"ast":null,"code":"var _jsxFileName = \"/Users/gimmingyu/Desktop/TimeTracker/Time-Tracker/src/components/analysis-week/Chart.tsx\",\n    _s = $RefreshSig$();\n\nimport * as React from \"react\";\nimport { useState } from \"react\";\nimport { Bar } from \"react-chartjs-2\";\nimport styled from \"styled-components\";\nimport { Chart as ChartJS, CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend } from \"chart.js\";\nimport { getMainSumTimes, getDetailSumTimes } from \"../../utils/getSumTimesObj\";\nimport { getEntireTimes } from \"../../utils/getEntireTimes\";\nimport { convertMinToTime } from \"../../utils/convertMinToTime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend);\n\nfunction Chart(_ref) {\n  _s();\n\n  let {\n    thisList,\n    lastList,\n    pageType,\n    restList = \"undefined\",\n    selectedDate\n  } = _ref;\n  const year = Number(selectedDate.current.year);\n  const month = Number(selectedDate.current.month);\n  const {\n    twoMonthAgo,\n    threeMonthAgo,\n    fourMonthAgo,\n    fiveMonthAgo\n  } = restList;\n  console.log(restList);\n  const monthList = pageType[2] !== \"Month\" ? [] : [{\n    beforeMonth: 5,\n    sumTimes: { ...getMainSumTimes(getEntireTimes(fiveMonthAgo)),\n      ...getDetailSumTimes(fiveMonthAgo)\n    }\n  }, {\n    beforeMonth: 4,\n    sumTimes: { ...getMainSumTimes(getEntireTimes(fourMonthAgo)),\n      ...getDetailSumTimes(fourMonthAgo)\n    }\n  }, {\n    beforeMonth: 3,\n    sumTimes: { ...getMainSumTimes(getEntireTimes(threeMonthAgo)),\n      ...getDetailSumTimes(threeMonthAgo)\n    }\n  }, {\n    beforeMonth: 2,\n    sumTimes: { ...getMainSumTimes(getEntireTimes(twoMonthAgo)),\n      ...getDetailSumTimes(twoMonthAgo)\n    }\n  }, {\n    beforeMonth: 1,\n    sumTimes: { ...getMainSumTimes(getEntireTimes(lastList)),\n      ...getDetailSumTimes(lastList)\n    }\n  }, {\n    beforeMonth: 0,\n    sumTimes: { ...getMainSumTimes(getEntireTimes(thisList)),\n      ...getDetailSumTimes(thisList)\n    }\n  }];\n  const [selectedList, setSelectedList] = useState({\n    list: \"IMPROVE_TIME\",\n    title: \"자기계발\"\n  });\n\n  const getChartData = dayData => {\n    switch (selectedList.list) {\n      case \"IMPROVE_TIME\":\n        return Number(dayData.entireTime.entireImprove.split(\":\")[0]);\n\n      case \"PRIVATE_TIME\":\n        return Number(dayData.entireTime.entirePrivate.split(\":\")[0]);\n\n      case \"SLEEP_TIME\":\n        return Number(dayData.entireTime.entireSleep.split(\":\")[0]);\n\n      case \"WORK_TIME\":\n        return Number(dayData.entireTime.entireWorks.split(\":\")[0]);\n\n      case \"STUDY_TIME\":\n        return Number(dayData.improve.study.split(\":\")[0]);\n\n      case \"READING_TIME\":\n        return Number(dayData.improve.reading.split(\":\")[0]);\n    }\n  };\n\n  const getMonthChartData = monthData => {\n    switch (selectedList.list) {\n      case \"IMPROVE_TIME\":\n        return Number(convertMinToTime(monthData.sumTimes.sumImprove).split(\"시간\")[0]);\n\n      case \"PRIVATE_TIME\":\n        return Number(convertMinToTime(monthData.sumTimes.sumPrivate).split(\"시간\")[0]);\n\n      case \"SLEEP_TIME\":\n        return Number(convertMinToTime(monthData.sumTimes.sumSleep).split(\"시간\")[0]);\n\n      case \"WORK_TIME\":\n        return Number(convertMinToTime(monthData.sumTimes.sumWorks).split(\"시간\")[0]);\n\n      case \"STUDY_TIME\":\n        return Number(convertMinToTime(monthData.sumTimes.sumStudy).split(\"시간\")[0]);\n\n      case \"READING_TIME\":\n        return Number(convertMinToTime(monthData.sumTimes.sumReading).split(\"시간\")[0]);\n    }\n  };\n\n  const options = {\n    responsive: true,\n    plugins: {\n      legend: {\n        position: \"top\"\n      },\n      title: {\n        display: true,\n        text: `${selectedList.title} 시간 통계`\n      }\n    }\n  };\n  const weekDataSets = [{\n    label: `지난${pageType[1]}`,\n    data: lastList.map(day => {\n      console.log(day.entireTime.entireImprove);\n      return getChartData(day);\n    }),\n    backgroundColor: \"rgba(255, 99, 132, 0.5)\"\n  }, {\n    label: `이번${pageType[1]}`,\n    data: thisList.map(day => {\n      console.log(Number(day.entireTime.entireImprove.split(\":\")[0]));\n      return getChartData(day);\n    }),\n    backgroundColor: \"rgba(53, 162, 235, 0.5)\"\n  }];\n  const monthDataSets = [{\n    label: `${selectedList.title}`,\n    data: monthList.map(month => {\n      return getMonthChartData(month);\n    }),\n    backgroundColor: () => {\n      switch (selectedList.list) {\n        case \"IMPROVE_TIME\":\n          return \"rgba(251, 235, 1, 0.5)\";\n\n        case \"PRIVATE_TIME\":\n          return \"rgba(241, 66, 43, 0.5)\";\n\n        case \"SLEEP_TIME\":\n          return \"rgba(107, 29, 195, 0.5)\";\n\n        case \"WORK_TIME\":\n          return \" rgba(0, 226, 207, 0.5)\";\n\n        case \"STUDY_TIME\":\n          return \"rgba(228, 130, 2, 0.5)\";\n\n        case \"READING_TIME\":\n          return \"rgba(49, 37, 2, 0.5)\";\n      }\n    }\n  }];\n  const now = new Date(`${year}.${month}.1`);\n  console.log(now.getMonth());\n  console.log(`${year}.${month}`);\n  const monthLabels = [`${month - 5}월`, `${month - 4}월`, `${month - 3}월`, `${new Date(now.setMonth(now.getMonth() - 2)).getMonth()}월`, `${new Date(now.setMonth(now.getMonth() - 1)).getMonth()}월`, `${now.getMonth()}월`];\n  const weekLabels = [\"월\", \"화\", \"수\", \"목\", \"금\", \"토\", \"일\"];\n  const data = {\n    labels: pageType[2] === \"Week\" ? weekLabels : pageType[2] === \"Month\" ? monthLabels : monthLabels,\n    datasets: pageType[2] === \"Week\" ? weekDataSets : pageType[2] === \"Month\" ? monthDataSets : monthDataSets\n  };\n\n  const listClickHandler = e => {\n    if (e.target.tagName === \"LI\") {\n      const clickedLabel = e.target.dataset.labels;\n      setSelectedList({ ...selectedList,\n        list: clickedLabel,\n        title: e.target.textContent\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(TopBar, {\n      onClick: listClickHandler,\n      children: [/*#__PURE__*/_jsxDEV(\"li\", {\n        \"data-labels\": \"IMPROVE_TIME\",\n        children: \"\\uC790\\uAE30\\uACC4\\uBC1C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        \"data-labels\": \"PRIVATE_TIME\",\n        children: \"\\uAC1C\\uC778\\uC2DC\\uAC04\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        \"data-labels\": \"WORK_TIME\",\n        children: \"\\uC77C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        \"data-labels\": \"SLEEP_TIME\",\n        children: \"\\uCDE8\\uCE68\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        \"data-labels\": \"STUDY_TIME\",\n        children: \"\\uACF5\\uBD80\\uC2DC\\uAC04\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        \"data-labels\": \"READING_TIME\",\n        children: \"\\uB3C5\\uC11C \\uBC0F \\uC2E0\\uBB38\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Bar, {\n      options: options,\n      data: data\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Chart, \"dxMtVZOfa4sSSJzOmUraeqj+7sk=\");\n\n_c = Chart;\nconst TopBar = styled.ul`\n  display: flex;\n  position: relative;\n  justify-content: space-around;\n  margin-bottom: 2rem;\n  li {\n    width: 5rem;\n    color: #36424f;\n    text-align: center;\n    font-weight: bold;\n    font-size: 0.8rem;\n    padding-bottom: 0.2rem;\n    border-bottom: 2px solid transparent;\n    cursor: pointer;\n  }\n\n  li:hover {\n    border-bottom: 2px solid #1671cc;\n    transition-property: border-bottom;\n    transition-duration: 1s;\n  }\n`;\n_c2 = TopBar;\nexport default Chart;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Chart\");\n$RefreshReg$(_c2, \"TopBar\");","map":{"version":3,"sources":["/Users/gimmingyu/Desktop/TimeTracker/Time-Tracker/src/components/analysis-week/Chart.tsx"],"names":["React","useState","Bar","styled","Chart","ChartJS","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","getMainSumTimes","getDetailSumTimes","getEntireTimes","convertMinToTime","register","thisList","lastList","pageType","restList","selectedDate","year","Number","current","month","twoMonthAgo","threeMonthAgo","fourMonthAgo","fiveMonthAgo","console","log","monthList","beforeMonth","sumTimes","selectedList","setSelectedList","list","title","getChartData","dayData","entireTime","entireImprove","split","entirePrivate","entireSleep","entireWorks","improve","study","reading","getMonthChartData","monthData","sumImprove","sumPrivate","sumSleep","sumWorks","sumStudy","sumReading","options","responsive","plugins","legend","position","display","text","weekDataSets","label","data","map","day","backgroundColor","monthDataSets","now","Date","getMonth","monthLabels","setMonth","weekLabels","labels","datasets","listClickHandler","e","target","tagName","clickedLabel","dataset","textContent","TopBar","ul"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport { useState } from \"react\";\nimport { Bar } from \"react-chartjs-2\";\nimport styled from \"styled-components\";\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  Title,\n  Tooltip,\n  Legend,\n} from \"chart.js\";\nimport { getMainSumTimes, getDetailSumTimes } from \"../../utils/getSumTimesObj\";\nimport { getEntireTimes } from \"../../utils/getEntireTimes\";\nimport { convertMinToTime } from \"../../utils/convertMinToTime\";\n\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  Title,\n  Tooltip,\n  Legend\n);\n\nfunction Chart({\n  thisList,\n  lastList,\n  pageType,\n  restList = \"undefined\",\n  selectedDate,\n}: any) {\n  const year = Number(selectedDate.current.year);\n  const month = Number(selectedDate.current.month);\n\n  const { twoMonthAgo, threeMonthAgo, fourMonthAgo, fiveMonthAgo } = restList;\n  console.log(restList);\n\n  const monthList =\n    pageType[2] !== \"Month\"\n      ? []\n      : [\n          {\n            beforeMonth: 5,\n            sumTimes: {\n              ...getMainSumTimes(getEntireTimes(fiveMonthAgo)),\n              ...getDetailSumTimes(fiveMonthAgo),\n            },\n          },\n          {\n            beforeMonth: 4,\n            sumTimes: {\n              ...getMainSumTimes(getEntireTimes(fourMonthAgo)),\n              ...getDetailSumTimes(fourMonthAgo),\n            },\n          },\n          {\n            beforeMonth: 3,\n            sumTimes: {\n              ...getMainSumTimes(getEntireTimes(threeMonthAgo)),\n              ...getDetailSumTimes(threeMonthAgo),\n            },\n          },\n          {\n            beforeMonth: 2,\n            sumTimes: {\n              ...getMainSumTimes(getEntireTimes(twoMonthAgo)),\n              ...getDetailSumTimes(twoMonthAgo),\n            },\n          },\n          {\n            beforeMonth: 1,\n            sumTimes: {\n              ...getMainSumTimes(getEntireTimes(lastList)),\n              ...getDetailSumTimes(lastList),\n            },\n          },\n          {\n            beforeMonth: 0,\n            sumTimes: {\n              ...getMainSumTimes(getEntireTimes(thisList)),\n              ...getDetailSumTimes(thisList),\n            },\n          },\n        ];\n\n  const [selectedList, setSelectedList] = useState({\n    list: \"IMPROVE_TIME\",\n    title: \"자기계발\",\n  });\n\n  const getChartData = (dayData: any) => {\n    switch (selectedList.list) {\n      case \"IMPROVE_TIME\":\n        return Number(dayData.entireTime.entireImprove.split(\":\")[0]);\n      case \"PRIVATE_TIME\":\n        return Number(dayData.entireTime.entirePrivate.split(\":\")[0]);\n      case \"SLEEP_TIME\":\n        return Number(dayData.entireTime.entireSleep.split(\":\")[0]);\n      case \"WORK_TIME\":\n        return Number(dayData.entireTime.entireWorks.split(\":\")[0]);\n      case \"STUDY_TIME\":\n        return Number(dayData.improve.study.split(\":\")[0]);\n      case \"READING_TIME\":\n        return Number(dayData.improve.reading.split(\":\")[0]);\n    }\n  };\n\n  const getMonthChartData = (monthData: any) => {\n    switch (selectedList.list) {\n      case \"IMPROVE_TIME\":\n        return Number(\n          convertMinToTime(monthData.sumTimes.sumImprove).split(\"시간\")[0]\n        );\n      case \"PRIVATE_TIME\":\n        return Number(\n          convertMinToTime(monthData.sumTimes.sumPrivate).split(\"시간\")[0]\n        );\n      case \"SLEEP_TIME\":\n        return Number(\n          convertMinToTime(monthData.sumTimes.sumSleep).split(\"시간\")[0]\n        );\n      case \"WORK_TIME\":\n        return Number(\n          convertMinToTime(monthData.sumTimes.sumWorks).split(\"시간\")[0]\n        );\n      case \"STUDY_TIME\":\n        return Number(\n          convertMinToTime(monthData.sumTimes.sumStudy).split(\"시간\")[0]\n        );\n      case \"READING_TIME\":\n        return Number(\n          convertMinToTime(monthData.sumTimes.sumReading).split(\"시간\")[0]\n        );\n    }\n  };\n\n  const options = {\n    responsive: true,\n    plugins: {\n      legend: {\n        position: \"top\" as const,\n      },\n      title: {\n        display: true,\n        text: `${selectedList.title} 시간 통계`,\n      },\n    },\n  };\n\n  const weekDataSets = [\n    {\n      label: `지난${pageType[1]}`,\n      data: lastList.map((day: any) => {\n        console.log(day.entireTime.entireImprove);\n        return getChartData(day);\n      }),\n      backgroundColor: \"rgba(255, 99, 132, 0.5)\",\n    },\n    {\n      label: `이번${pageType[1]}`,\n      data: thisList.map((day: any) => {\n        console.log(Number(day.entireTime.entireImprove.split(\":\")[0]));\n        return getChartData(day);\n      }),\n      backgroundColor: \"rgba(53, 162, 235, 0.5)\",\n    },\n  ];\n\n  const monthDataSets = [\n    {\n      label: `${selectedList.title}`,\n      data: monthList.map((month) => {\n        return getMonthChartData(month);\n      }),\n      backgroundColor: () => {\n        switch (selectedList.list) {\n          case \"IMPROVE_TIME\":\n            return \"rgba(251, 235, 1, 0.5)\";\n          case \"PRIVATE_TIME\":\n            return \"rgba(241, 66, 43, 0.5)\";\n          case \"SLEEP_TIME\":\n            return \"rgba(107, 29, 195, 0.5)\";\n          case \"WORK_TIME\":\n            return \" rgba(0, 226, 207, 0.5)\";\n          case \"STUDY_TIME\":\n            return \"rgba(228, 130, 2, 0.5)\";\n          case \"READING_TIME\":\n            return \"rgba(49, 37, 2, 0.5)\";\n        }\n      },\n    },\n  ];\n\n  const now = new Date(`${year}.${month}.1`);\n  console.log(now.getMonth());\n  console.log(`${year}.${month}`);\n  const monthLabels = [\n    `${month - 5}월`,\n    `${month - 4}월`,\n    `${month - 3}월`,\n    `${new Date(now.setMonth(now.getMonth() - 2)).getMonth()}월`,\n    `${new Date(now.setMonth(now.getMonth() - 1)).getMonth()}월`,\n    `${now.getMonth()}월`,\n  ];\n\n  const weekLabels = [\"월\", \"화\", \"수\", \"목\", \"금\", \"토\", \"일\"];\n\n  const data = {\n    labels:\n      pageType[2] === \"Week\"\n        ? weekLabels\n        : pageType[2] === \"Month\"\n        ? monthLabels\n        : monthLabels,\n    datasets:\n      pageType[2] === \"Week\"\n        ? weekDataSets\n        : pageType[2] === \"Month\"\n        ? monthDataSets\n        : monthDataSets,\n  };\n\n  const listClickHandler = (e: any): void => {\n    if (e.target.tagName === \"LI\") {\n      const clickedLabel: string = e.target.dataset.labels;\n      setSelectedList({\n        ...selectedList,\n        list: clickedLabel,\n        title: e.target.textContent,\n      });\n    }\n  };\n\n  return (\n    <>\n      <TopBar onClick={listClickHandler}>\n        <li data-labels=\"IMPROVE_TIME\">자기계발</li>\n        <li data-labels=\"PRIVATE_TIME\">개인시간</li>\n        <li data-labels=\"WORK_TIME\">일</li>\n        <li data-labels=\"SLEEP_TIME\">취침</li>\n        <li data-labels=\"STUDY_TIME\">공부시간</li>\n        <li data-labels=\"READING_TIME\">독서 및 신문</li>\n      </TopBar>\n      <Bar options={options} data={data} />\n    </>\n  );\n}\n\nconst TopBar = styled.ul`\n  display: flex;\n  position: relative;\n  justify-content: space-around;\n  margin-bottom: 2rem;\n  li {\n    width: 5rem;\n    color: #36424f;\n    text-align: center;\n    font-weight: bold;\n    font-size: 0.8rem;\n    padding-bottom: 0.2rem;\n    border-bottom: 2px solid transparent;\n    cursor: pointer;\n  }\n\n  li:hover {\n    border-bottom: 2px solid #1671cc;\n    transition-property: border-bottom;\n    transition-duration: 1s;\n  }\n`;\n\nexport default Chart;\n"]},"metadata":{},"sourceType":"module"}