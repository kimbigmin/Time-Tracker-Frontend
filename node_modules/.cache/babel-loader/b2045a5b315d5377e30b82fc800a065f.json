{"ast":null,"code":"var _jsxFileName = \"/Users/gimmingyu/Desktop/TimeTracker/Time-Tracker/src/pages/AnalysisWeek.tsx\",\n    _s = $RefreshSig$();\n\nimport * as React from \"react\";\nimport { useEffect, useState } from \"react\";\nimport Header from \"../components/Header/Header\";\nimport { getData } from \"../utils/getData\";\nimport { getLastMondays } from \"../utils/getLastMondays\";\nimport sumHoursMinutes from \"../utils/sumTime\";\nimport { convertMinToTime } from \"../utils/convertMinToTime\";\nimport { getLastSunday } from \"../utils/getLastSunday\";\nimport { getPercentage } from \"../utils/getPercentage\";\nimport { getAverageTime } from \"../utils/getAverageTime\";\nimport styled from \"styled-components\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction AnalysisWeek() {\n  _s();\n\n  const [data, setData] = useState([]); // 데이터 불러오기\n\n  useEffect(() => {\n    getData(setData);\n  }, []); // 이번주 월요일 일요일, 저번주 월요일 일요일 구하기\n\n  const standard = new Date(); // 오늘 날짜\n\n  const monday = new Date(getLastMondays(standard, 1)).getTime();\n  const sunday = new Date(getLastSunday(monday)).getTime();\n  const lastMonday = new Date(getLastMondays(standard, 2)).getTime();\n  const lastSunday = new Date(getLastSunday(lastMonday)).getTime(); // 데이터에서 이번주, 저번주 리스트 뽑아오기\n\n  const weekList = data.filter(item => {\n    const date = new Date(item.date).getTime();\n    return date >= monday && date <= sunday;\n  });\n  console.log(weekList);\n  const lastWeekList = data.filter(item => {\n    const date = new Date(item.date).getTime();\n    return date >= lastMonday && date <= lastSunday;\n  }); // 이번주, 저번주 전체 시간 가져오기\n\n  const entireTimes = weekList.map(item => item.entireTime);\n  const lastEntireTimes = lastWeekList.map(item => item.entireTime); // 이번주 각 항목에 대한 시간 합계 구하기\n\n  const sumImprove = entireTimes.reduce((acc, obj) => {\n    return acc + sumHoursMinutes(obj.entireImprove);\n  }, 0);\n  const sumPrivate = entireTimes.reduce((acc, obj) => {\n    return acc + sumHoursMinutes(obj.entirePrivate);\n  }, 0);\n  const sumWorks = entireTimes.reduce((acc, obj) => {\n    return acc + sumHoursMinutes(obj.entireWorks);\n  }, 0);\n  const sumSleep = entireTimes.reduce((acc, obj) => {\n    return acc + sumHoursMinutes(obj.entireSleep);\n  }, 0); // 저번주 각 항목에 대한 시간 합계 구하기\n\n  const lastSumImprove = lastEntireTimes.reduce((acc, obj) => {\n    return acc + sumHoursMinutes(obj.entireImprove);\n  }, 0);\n  const lastSumPrivate = lastEntireTimes.reduce((acc, obj) => {\n    return acc + sumHoursMinutes(obj.entirePrivate);\n  }, 0);\n  const lastSumWorks = lastEntireTimes.reduce((acc, obj) => {\n    return acc + sumHoursMinutes(obj.entireWorks);\n  }, 0);\n  const lastSumSleep = lastEntireTimes.reduce((acc, obj) => {\n    return acc + sumHoursMinutes(obj.entireSleep);\n  }, 0);\n  const sumStudy = weekList.reduce((acc, obj) => {\n    return acc + sumHoursMinutes(obj.improve.study);\n  }, 0);\n  const sumGame = weekList.reduce((acc, obj) => {\n    return acc + sumHoursMinutes(obj.private.game);\n  }, 0);\n  const sumReading = weekList.reduce((acc, obj) => {\n    return acc + sumHoursMinutes(obj.improve.reading);\n  }, 0);\n  const sumWakeUp = weekList.reduce((acc, obj) => {\n    return acc + sumHoursMinutes(obj.sleeping.wake);\n  }, 0);\n  const sumNight = weekList.reduce((acc, obj) => {\n    return acc + sumHoursMinutes(obj.sleeping.sleep);\n  }, 0);\n  const sumLastStudy = lastWeekList.reduce((acc, obj) => {\n    return acc + sumHoursMinutes(obj.improve.study);\n  }, 0);\n  const sumLastGame = lastWeekList.reduce((acc, obj) => {\n    return acc + sumHoursMinutes(obj.private.game);\n  }, 0);\n  const sumLastReading = lastWeekList.reduce((acc, obj) => {\n    return acc + sumHoursMinutes(obj.improve.reading);\n  }, 0);\n  const sumLastWakeUp = lastWeekList.reduce((acc, obj) => {\n    return acc + sumHoursMinutes(obj.sleeping.wake);\n  }, 0);\n  const sumLastNight = lastWeekList.reduce((acc, obj) => {\n    return acc + sumHoursMinutes(obj.sleeping.sleep);\n  }, 0); // 저번주와의 퍼센트 비교값 구하기\n\n  const improvePercent = getPercentage(sumImprove, lastSumImprove);\n  const privatePercent = getPercentage(sumPrivate, lastSumPrivate);\n  const worksPercent = getPercentage(sumWorks, lastSumWorks);\n  const sleepPercent = getPercentage(sumSleep, lastSumSleep); // 기타 시간사용 통계 퍼센트\n\n  const studyPercent = getPercentage(sumStudy, sumLastStudy);\n  const gamePercent = getPercentage(sumGame, sumLastGame);\n  const readingPercent = getPercentage(sumReading, sumLastReading);\n  const thisWakeUp = getAverageTime(sumWakeUp);\n  const lastWakeUp = getAverageTime(sumLastWakeUp);\n  const thisNight = getAverageTime(sumNight);\n  const lastNight = getAverageTime(sumLastNight);\n  const wakePercent = getPercentage(sumWakeUp, sumLastWakeUp);\n  const nightPercent = getPercentage(sumNight, sumLastNight);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uC774\\uBC88\\uC8FC \\uC2DC\\uAC04\\uC0AC\\uC6A9 \\uD1B5\\uACC4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"\\uC790\\uAE30\\uACC4\\uBC1C: \", /*#__PURE__*/_jsxDEV(Time, {\n          children: convertMinToTime(sumImprove)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Percent, {\n          data: improvePercent,\n          children: [improvePercent, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"\\uAC1C\\uC778\\uC2DC\\uAC04: \", /*#__PURE__*/_jsxDEV(Time, {\n          children: convertMinToTime(sumPrivate)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Percent, {\n          data: privatePercent,\n          children: [privatePercent, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"\\uC77C: \", /*#__PURE__*/_jsxDEV(Time, {\n          children: convertMinToTime(sumWorks)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(Percent, {\n          data: worksPercent,\n          children: [worksPercent, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"\\uCDE8\\uCE68: \", /*#__PURE__*/_jsxDEV(Time, {\n          children: convertMinToTime(sumSleep)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Percent, {\n          data: sleepPercent,\n          children: [sleepPercent, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uAE30\\uD0C0 \\uC2DC\\uAC04\\uC0AC\\uC6A9 \\uD1B5\\uACC4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"\\uACF5\\uBD80\\uC2DC\\uAC04: \", /*#__PURE__*/_jsxDEV(Time, {\n          children: convertMinToTime(sumStudy)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Percent, {\n          data: studyPercent,\n          children: [studyPercent, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"\\uAC8C\\uC784\\uC2DC\\uAC04: \", /*#__PURE__*/_jsxDEV(Time, {\n          children: convertMinToTime(sumGame)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Percent, {\n          data: gamePercent,\n          children: [gamePercent, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"\\uB3C5\\uC11C \\uBC0F \\uC2E0\\uBB38: \", /*#__PURE__*/_jsxDEV(Time, {\n          children: convertMinToTime(sumReading)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 20\n        }, this), /*#__PURE__*/_jsxDEV(Percent, {\n          data: readingPercent,\n          children: [readingPercent, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"\\uD3C9\\uADE0\\uCDE8\\uCE68: \", /*#__PURE__*/_jsxDEV(Time, {\n          children: thisWakeUp\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(TimeDiff, {\n          data: wakePercent,\n          children: [wakePercent, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"\\uD3C9\\uADE0\\uAE30\\uC0C1: \", /*#__PURE__*/_jsxDEV(Time, {\n          children: thisNight\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(TimeDiff, {\n          data: nightPercent,\n          children: [nightPercent, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(AnalysisWeek, \"IEMTtLVFIuToo7X/raQbJAxzNQU=\");\n\n_c = AnalysisWeek;\nconst Box = styled.div`\n  padding: 2rem;\n  margin: 2rem;\n  box-shadow: rgba(0, 0, 0, 0.15) 1.95px 1.95px 2.6px;\n  width: 30rem;\n  text-align: left;\n\n  h2 {\n    font-size: 1rem;\n    margin-bottom: 0.5rem;\n  }\n  h3 {\n    margin: 0.5rem;\n    color: rgba(31, 28, 28, 0.749);\n  }\n`;\n_c2 = Box;\nconst Time = styled.span`\n  font-size: 1.5rem;\n  margin-left: 0.5rem;\n`;\n_c3 = Time;\nconst Percent = styled.span`\n  color: ${props => {\n  return props.data > 0 ? \"red\" : \"#1671cc\";\n}};\n  margin-left: 1rem;\n  font-size: 1.3rem;\n`;\n_c4 = Percent;\nconst TimeDiff = styled.span`\n  color: ${props => {\n  return props.data > 0 ? \"#1671cc\" : \"red\";\n}};\n  margin-left: 1rem;\n  font-size: 1.3rem;\n`;\n_c5 = TimeDiff;\nexport default AnalysisWeek;\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"AnalysisWeek\");\n$RefreshReg$(_c2, \"Box\");\n$RefreshReg$(_c3, \"Time\");\n$RefreshReg$(_c4, \"Percent\");\n$RefreshReg$(_c5, \"TimeDiff\");","map":{"version":3,"sources":["/Users/gimmingyu/Desktop/TimeTracker/Time-Tracker/src/pages/AnalysisWeek.tsx"],"names":["React","useEffect","useState","Header","getData","getLastMondays","sumHoursMinutes","convertMinToTime","getLastSunday","getPercentage","getAverageTime","styled","AnalysisWeek","data","setData","standard","Date","monday","getTime","sunday","lastMonday","lastSunday","weekList","filter","item","date","console","log","lastWeekList","entireTimes","map","entireTime","lastEntireTimes","sumImprove","reduce","acc","obj","entireImprove","sumPrivate","entirePrivate","sumWorks","entireWorks","sumSleep","entireSleep","lastSumImprove","lastSumPrivate","lastSumWorks","lastSumSleep","sumStudy","improve","study","sumGame","private","game","sumReading","reading","sumWakeUp","sleeping","wake","sumNight","sleep","sumLastStudy","sumLastGame","sumLastReading","sumLastWakeUp","sumLastNight","improvePercent","privatePercent","worksPercent","sleepPercent","studyPercent","gamePercent","readingPercent","thisWakeUp","lastWakeUp","thisNight","lastNight","wakePercent","nightPercent","Box","div","Time","span","Percent","props","TimeDiff"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport { useEffect, useState } from \"react\";\nimport Header from \"../components/Header/Header\";\nimport Chart from \"../components/analysis-week/Chart\";\nimport { getData } from \"../utils/getData\";\nimport { getLastMondays } from \"../utils/getLastMondays\";\nimport sumHoursMinutes from \"../utils/sumTime\";\nimport { convertMinToTime } from \"../utils/convertMinToTime\";\nimport { getLastSunday } from \"../utils/getLastSunday\";\nimport { getPercentage } from \"../utils/getPercentage\";\nimport { getAverageTime } from \"../utils/getAverageTime\";\nimport styled from \"styled-components\";\n\ninterface Data {\n  date: string;\n  improve: {\n    study: string;\n    workout: string;\n    reading: string;\n    rest: string;\n  };\n  private: {\n    privates: string;\n    game: string;\n  };\n  sleeping: {\n    night: string;\n    nap: string;\n    wake: string;\n    sleep: string;\n  };\n  working: {\n    works: string;\n    houseWork: string;\n  };\n  entireTime: {\n    entireImprove: string;\n    entirePrivate: string;\n    entireWorks: string;\n    entireSleep: string;\n  };\n  id: number;\n}\n\nfunction AnalysisWeek() {\n  const [data, setData] = useState([]);\n\n  // 데이터 불러오기\n  useEffect(() => {\n    getData(setData);\n  }, []);\n\n  // 이번주 월요일 일요일, 저번주 월요일 일요일 구하기\n  const standard = new Date(); // 오늘 날짜\n  const monday = new Date(getLastMondays(standard, 1)).getTime();\n  const sunday = new Date(getLastSunday(monday)).getTime();\n  const lastMonday = new Date(getLastMondays(standard, 2)).getTime();\n  const lastSunday = new Date(getLastSunday(lastMonday)).getTime();\n\n  // 데이터에서 이번주, 저번주 리스트 뽑아오기\n  const weekList = data.filter((item: Data) => {\n    const date = new Date(item.date).getTime();\n    return date >= monday && date <= sunday;\n  });\n  console.log(weekList);\n  const lastWeekList = data.filter((item: Data) => {\n    const date = new Date(item.date).getTime();\n    return date >= lastMonday && date <= lastSunday;\n  });\n\n  // 이번주, 저번주 전체 시간 가져오기\n  const entireTimes = weekList.map((item: Data) => item.entireTime);\n\n  const lastEntireTimes = lastWeekList.map((item) => item.entireTime);\n\n  // 이번주 각 항목에 대한 시간 합계 구하기\n  const sumImprove = entireTimes.reduce((acc, obj) => {\n    return acc + sumHoursMinutes(obj.entireImprove);\n  }, 0);\n\n  const sumPrivate = entireTimes.reduce((acc, obj) => {\n    return acc + sumHoursMinutes(obj.entirePrivate);\n  }, 0);\n\n  const sumWorks = entireTimes.reduce((acc, obj) => {\n    return acc + sumHoursMinutes(obj.entireWorks);\n  }, 0);\n\n  const sumSleep = entireTimes.reduce((acc, obj) => {\n    return acc + sumHoursMinutes(obj.entireSleep);\n  }, 0);\n\n  // 저번주 각 항목에 대한 시간 합계 구하기\n  const lastSumImprove = lastEntireTimes.reduce((acc, obj) => {\n    return acc + sumHoursMinutes(obj.entireImprove);\n  }, 0);\n\n  const lastSumPrivate = lastEntireTimes.reduce((acc, obj) => {\n    return acc + sumHoursMinutes(obj.entirePrivate);\n  }, 0);\n\n  const lastSumWorks = lastEntireTimes.reduce((acc, obj) => {\n    return acc + sumHoursMinutes(obj.entireWorks);\n  }, 0);\n\n  const lastSumSleep = lastEntireTimes.reduce((acc, obj) => {\n    return acc + sumHoursMinutes(obj.entireSleep);\n  }, 0);\n\n  const sumStudy = weekList.reduce((acc, obj) => {\n    return acc + sumHoursMinutes(obj.improve.study);\n  }, 0);\n\n  const sumGame = weekList.reduce((acc, obj) => {\n    return acc + sumHoursMinutes(obj.private.game);\n  }, 0);\n\n  const sumReading = weekList.reduce((acc, obj) => {\n    return acc + sumHoursMinutes(obj.improve.reading);\n  }, 0);\n\n  const sumWakeUp = weekList.reduce((acc, obj) => {\n    return acc + sumHoursMinutes(obj.sleeping.wake);\n  }, 0);\n\n  const sumNight = weekList.reduce((acc, obj) => {\n    return acc + sumHoursMinutes(obj.sleeping.sleep);\n  }, 0);\n\n  const sumLastStudy = lastWeekList.reduce((acc, obj) => {\n    return acc + sumHoursMinutes(obj.improve.study);\n  }, 0);\n\n  const sumLastGame = lastWeekList.reduce((acc, obj) => {\n    return acc + sumHoursMinutes(obj.private.game);\n  }, 0);\n  const sumLastReading = lastWeekList.reduce((acc, obj) => {\n    return acc + sumHoursMinutes(obj.improve.reading);\n  }, 0);\n\n  const sumLastWakeUp = lastWeekList.reduce((acc, obj) => {\n    return acc + sumHoursMinutes(obj.sleeping.wake);\n  }, 0);\n\n  const sumLastNight = lastWeekList.reduce((acc, obj) => {\n    return acc + sumHoursMinutes(obj.sleeping.sleep);\n  }, 0);\n\n  // 저번주와의 퍼센트 비교값 구하기\n  const improvePercent = getPercentage(sumImprove, lastSumImprove);\n  const privatePercent = getPercentage(sumPrivate, lastSumPrivate);\n  const worksPercent = getPercentage(sumWorks, lastSumWorks);\n  const sleepPercent = getPercentage(sumSleep, lastSumSleep);\n\n  // 기타 시간사용 통계 퍼센트\n  const studyPercent = getPercentage(sumStudy, sumLastStudy);\n  const gamePercent = getPercentage(sumGame, sumLastGame);\n  const readingPercent = getPercentage(sumReading, sumLastReading);\n\n  const thisWakeUp = getAverageTime(sumWakeUp);\n  const lastWakeUp = getAverageTime(sumLastWakeUp);\n  const thisNight = getAverageTime(sumNight);\n  const lastNight = getAverageTime(sumLastNight);\n\n  const wakePercent = getPercentage(sumWakeUp, sumLastWakeUp);\n  const nightPercent = getPercentage(sumNight, sumLastNight);\n\n  return (\n    <>\n      <Header />\n      <Box>\n        <h2>이번주 시간사용 통계</h2>\n        <h3>\n          자기계발: <Time>{convertMinToTime(sumImprove)}</Time>\n          <Percent data={improvePercent}>{improvePercent}%</Percent>\n        </h3>\n        <h3>\n          개인시간: <Time>{convertMinToTime(sumPrivate)}</Time>\n          <Percent data={privatePercent}>{privatePercent}%</Percent>\n        </h3>\n\n        <h3>\n          일: <Time>{convertMinToTime(sumWorks)}</Time>\n          <Percent data={worksPercent}>{worksPercent}%</Percent>\n        </h3>\n\n        <h3>\n          취침: <Time>{convertMinToTime(sumSleep)}</Time>\n          <Percent data={sleepPercent}>{sleepPercent}%</Percent>\n        </h3>\n      </Box>\n      <Box>\n        <h2>기타 시간사용 통계</h2>\n        <h3>\n          공부시간: <Time>{convertMinToTime(sumStudy)}</Time>\n          <Percent data={studyPercent}>{studyPercent}%</Percent>\n        </h3>\n        <h3>\n          게임시간: <Time>{convertMinToTime(sumGame)}</Time>\n          <Percent data={gamePercent}>{gamePercent}%</Percent>\n        </h3>\n        <h3>\n          독서 및 신문: <Time>{convertMinToTime(sumReading)}</Time>\n          <Percent data={readingPercent}>{readingPercent}%</Percent>\n        </h3>\n        <h3>\n          평균취침: <Time>{thisWakeUp}</Time>\n          <TimeDiff data={wakePercent}>{wakePercent}%</TimeDiff>\n        </h3>\n        <h3>\n          평균기상: <Time>{thisNight}</Time>\n          <TimeDiff data={nightPercent}>{nightPercent}%</TimeDiff>\n        </h3>\n      </Box>\n    </>\n  );\n}\n\nconst Box = styled.div`\n  padding: 2rem;\n  margin: 2rem;\n  box-shadow: rgba(0, 0, 0, 0.15) 1.95px 1.95px 2.6px;\n  width: 30rem;\n  text-align: left;\n\n  h2 {\n    font-size: 1rem;\n    margin-bottom: 0.5rem;\n  }\n  h3 {\n    margin: 0.5rem;\n    color: rgba(31, 28, 28, 0.749);\n  }\n`;\n\nconst Time = styled.span`\n  font-size: 1.5rem;\n  margin-left: 0.5rem;\n`;\n\nconst Percent = styled.span`\n  color: ${(props) => {\n    return props.data > 0 ? \"red\" : \"#1671cc\";\n  }};\n  margin-left: 1rem;\n  font-size: 1.3rem;\n`;\n\nconst TimeDiff = styled.span`\n  color: ${(props) => {\n    return props.data > 0 ? \"#1671cc\" : \"red\";\n  }};\n  margin-left: 1rem;\n  font-size: 1.3rem;\n`;\n\nexport default AnalysisWeek;\n"]},"metadata":{},"sourceType":"module"}