{"ast":null,"code":"var _jsxFileName = \"/Users/gimmingyu/Desktop/TimeTracker/Time-Tracker/src/components/BarChart/Chart.tsx\",\n    _s = $RefreshSig$();\n\nimport * as React from \"react\";\nimport { useState } from \"react\";\nimport { Bar } from \"react-chartjs-2\";\nimport styled from \"styled-components\";\nimport { Chart as ChartJS, CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend } from \"chart.js\";\nimport { getMainSumTimes, getDetailSumTimes } from \"../../utils/getSumTimesObj\";\nimport { getEntireTimes } from \"../../utils/getEntireTimes\";\nimport { convertMinToTime } from \"../../utils/convertMinToTime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend);\n\nfunction Chart(_ref) {\n  _s();\n\n  let {\n    thisList,\n    lastList,\n    pageType,\n    restList = \"undefined\",\n    selectedDate\n  } = _ref;\n  const year = Number(selectedDate.current.year);\n  const month = Number(selectedDate.current.month);\n  const {\n    twoMonthAgo,\n    threeMonthAgo,\n    fourMonthAgo,\n    fiveMonthAgo\n  } = restList;\n  const monthList = pageType[2] !== \"Month\" ? [] : [{\n    beforeMonth: 5,\n    sumTimes: { ...getMainSumTimes(getEntireTimes(fiveMonthAgo)),\n      ...getDetailSumTimes(fiveMonthAgo)\n    }\n  }, {\n    beforeMonth: 4,\n    sumTimes: { ...getMainSumTimes(getEntireTimes(fourMonthAgo)),\n      ...getDetailSumTimes(fourMonthAgo)\n    }\n  }, {\n    beforeMonth: 3,\n    sumTimes: { ...getMainSumTimes(getEntireTimes(threeMonthAgo)),\n      ...getDetailSumTimes(threeMonthAgo)\n    }\n  }, {\n    beforeMonth: 2,\n    sumTimes: { ...getMainSumTimes(getEntireTimes(twoMonthAgo)),\n      ...getDetailSumTimes(twoMonthAgo)\n    }\n  }, {\n    beforeMonth: 1,\n    sumTimes: { ...getMainSumTimes(getEntireTimes(lastList)),\n      ...getDetailSumTimes(lastList)\n    }\n  }, {\n    beforeMonth: 0,\n    sumTimes: { ...getMainSumTimes(getEntireTimes(thisList)),\n      ...getDetailSumTimes(thisList)\n    }\n  }];\n  console.log(monthList);\n  const [selectedList, setSelectedList] = useState({\n    list: \"IMPROVE_TIME\",\n    title: \"자기계발\"\n  });\n\n  const getChartData = dayData => {\n    const improveArr = dayData.entireTime.entireImprove.split(\":\");\n    const privateArr = dayData.entireTime.entirePrivate.split(\":\");\n    const sleepArr = dayData.entireTime.entireSleep.split(\":\");\n    const worksArr = dayData.entireTime.entireWorks.split(\":\");\n    const studyArr = dayData.improve.study.split(\":\");\n    const readingArr = dayData.improve.reading.split(\":\");\n\n    switch (selectedList.list) {\n      case \"IMPROVE_TIME\":\n        return Number(improveArr[0]) + Number(improveArr[1] * 0.016);\n\n      case \"PRIVATE_TIME\":\n        return Number(privateArr[0]) + Number(privateArr[1] * 0.016);\n\n      case \"SLEEP_TIME\":\n        return Number(sleepArr[0]) + Number(sleepArr[1] * 0.016);\n\n      case \"WORK_TIME\":\n        return Number(worksArr[0]) + Number(worksArr[1] * 0.016);\n\n      case \"STUDY_TIME\":\n        return Number(studyArr[0]) + Number(studyArr[1] * 0.016);\n\n      case \"READING_TIME\":\n        return Number(readingArr[0]) + Number(readingArr[1] * 0.016);\n    }\n  };\n\n  const getMonthChartData = monthData => {\n    switch (selectedList.list) {\n      case \"IMPROVE_TIME\":\n        return Number(convertMinToTime(monthData.sumTimes.sumImprove).split(\"시간\")[0]);\n\n      case \"PRIVATE_TIME\":\n        return Number(convertMinToTime(monthData.sumTimes.sumPrivate).split(\"시간\")[0]);\n\n      case \"SLEEP_TIME\":\n        return Number(convertMinToTime(monthData.sumTimes.sumSleep).split(\"시간\")[0]);\n\n      case \"WORK_TIME\":\n        return Number(convertMinToTime(monthData.sumTimes.sumWorks).split(\"시간\")[0]);\n\n      case \"STUDY_TIME\":\n        return Number(convertMinToTime(monthData.sumTimes.sumStudy).split(\"시간\")[0]);\n\n      case \"READING_TIME\":\n        return Number(convertMinToTime(monthData.sumTimes.sumReading).split(\"시간\")[0]);\n    }\n  };\n\n  const weekDataSets = [{\n    label: `지난${pageType[1]}`,\n    data: lastList.map(day => {\n      return getChartData(day);\n    }),\n    backgroundColor: \"rgba(71, 71, 71, 0.3)\"\n  }, {\n    label: `이번${pageType[1]}`,\n    data: thisList.map(day => {\n      return getChartData(day);\n    }),\n    backgroundColor: () => {\n      switch (selectedList.list) {\n        case \"IMPROVE_TIME\":\n          return \"rgba(255, 187, 0, 0.8)\";\n\n        case \"PRIVATE_TIME\":\n          return \"rgba(241, 66, 43, 0.8)\";\n\n        case \"SLEEP_TIME\":\n          return \"rgba(107, 29, 195, 0.5)\";\n\n        case \"WORK_TIME\":\n          return \" rgba(74, 200, 190, 0.8)\";\n\n        case \"STUDY_TIME\":\n          return \"rgba(228, 130, 2, 0.8)\";\n\n        case \"READING_TIME\":\n          return \"rgba(1, 78, 5, 0.801)\";\n      }\n    }\n  }];\n  const monthDataSets = [{\n    label: `${selectedList.title}`,\n    data: monthList.map(month => {\n      return getMonthChartData(month);\n    }),\n    backgroundColor: () => {\n      switch (selectedList.list) {\n        case \"IMPROVE_TIME\":\n          return \"rgba(251, 184, 1, 0.8)\";\n\n        case \"PRIVATE_TIME\":\n          return \"rgba(241, 66, 43, 0.8)\";\n\n        case \"SLEEP_TIME\":\n          return \"rgba(107, 29, 195, 0.8)\";\n\n        case \"WORK_TIME\":\n          return \" rgba(0, 226, 207, 0.8)\";\n\n        case \"STUDY_TIME\":\n          return \"rgba(228, 130, 2, 0.8)\";\n\n        case \"READING_TIME\":\n          return \"rgba(49, 37, 2, 0.8)\";\n      }\n    }\n  }];\n  const monthLabels = Array(6).fill(\"\").map((_, idx) => {\n    const returnMonth = month - idx;\n\n    switch (returnMonth) {\n      case 0:\n        return \"12월\";\n\n      case -1:\n        return \"11월\";\n\n      case -2:\n        return \"10월\";\n\n      case -3:\n        return \"9월\";\n\n      case -4:\n        return \"8월\";\n\n      default:\n        return `${returnMonth}월`;\n    }\n  }).reverse();\n  const weekLabels = [\"월\", \"화\", \"수\", \"목\", \"금\", \"토\", \"일\"];\n  const data = {\n    labels: pageType[2] === \"Week\" ? weekLabels : pageType[2] === \"Month\" ? monthLabels : monthLabels,\n    datasets: pageType[2] === \"Week\" ? weekDataSets : pageType[2] === \"Month\" ? monthDataSets : monthDataSets\n  };\n  const options = {\n    responsive: true,\n    layout: {\n      padding: 30\n    },\n    plugins: {\n      legend: {\n        position: \"top\",\n        labels: {\n          font: {\n            size: 13\n          }\n        }\n      },\n      title: {\n        display: true,\n        text: `${selectedList.title} 시간 통계`,\n        font: {\n          size: 15,\n          weight: \"bold\"\n        }\n      },\n      // \"#36424F\"\n      datalabels: {\n        color: \"black\",\n        font: {\n          size: 10\n        },\n        formatter: (value, context) => {\n          const hour = Math.floor(value);\n          const minutes = Math.floor((value - hour) * 60);\n          return `${hour}시간 ${minutes}분`;\n        }\n      }\n    },\n    scales: {\n      y: {\n        ticks: {\n          callback: (value, index, ticks) => {\n            return `${Math.floor(value)}시간`;\n          }\n        }\n      }\n    }\n  };\n\n  const listClickHandler = e => {\n    if (e.target.tagName === \"LI\") {\n      const clickedLabel = e.target.dataset.labels;\n      setSelectedList({ ...selectedList,\n        list: clickedLabel,\n        title: e.target.textContent\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(TopBar, {\n      onClick: listClickHandler,\n      children: [/*#__PURE__*/_jsxDEV(\"li\", {\n        \"data-labels\": \"IMPROVE_TIME\",\n        children: \"\\uC790\\uAE30\\uACC4\\uBC1C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        \"data-labels\": \"PRIVATE_TIME\",\n        children: \"\\uAC1C\\uC778\\uC2DC\\uAC04\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        \"data-labels\": \"WORK_TIME\",\n        children: \"\\uC77C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        \"data-labels\": \"SLEEP_TIME\",\n        children: \"\\uCDE8\\uCE68\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        \"data-labels\": \"STUDY_TIME\",\n        children: \"\\uACF5\\uBD80\\uC2DC\\uAC04\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        \"data-labels\": \"READING_TIME\",\n        children: \"\\uB3C5\\uC11C \\uBC0F \\uC2E0\\uBB38\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Bar, {\n      options: options,\n      data: data\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Chart, \"dxMtVZOfa4sSSJzOmUraeqj+7sk=\");\n\n_c = Chart;\nconst TopBar = styled.ul`\n  display: flex;\n  position: relative;\n  justify-content: space-around;\n  margin-bottom: 2rem;\n  li {\n    width: 5rem;\n    color: #36424f;\n    text-align: center;\n    font-weight: bold;\n    font-size: 0.8rem;\n    padding-bottom: 0.2rem;\n    border-bottom: 2px solid transparent;\n    cursor: pointer;\n  }\n\n  li:hover {\n    border-bottom: 2px solid #1671cc;\n    transition-property: border-bottom;\n    transition-duration: 1s;\n  }\n`;\n_c2 = TopBar;\nexport default Chart;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Chart\");\n$RefreshReg$(_c2, \"TopBar\");","map":{"version":3,"sources":["/Users/gimmingyu/Desktop/TimeTracker/Time-Tracker/src/components/BarChart/Chart.tsx"],"names":["React","useState","Bar","styled","Chart","ChartJS","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","getMainSumTimes","getDetailSumTimes","getEntireTimes","convertMinToTime","register","thisList","lastList","pageType","restList","selectedDate","year","Number","current","month","twoMonthAgo","threeMonthAgo","fourMonthAgo","fiveMonthAgo","monthList","beforeMonth","sumTimes","console","log","selectedList","setSelectedList","list","title","getChartData","dayData","improveArr","entireTime","entireImprove","split","privateArr","entirePrivate","sleepArr","entireSleep","worksArr","entireWorks","studyArr","improve","study","readingArr","reading","getMonthChartData","monthData","sumImprove","sumPrivate","sumSleep","sumWorks","sumStudy","sumReading","weekDataSets","label","data","map","day","backgroundColor","monthDataSets","monthLabels","Array","fill","_","idx","returnMonth","reverse","weekLabels","labels","datasets","options","responsive","layout","padding","plugins","legend","position","font","size","display","text","weight","datalabels","color","formatter","value","context","hour","Math","floor","minutes","scales","y","ticks","callback","index","listClickHandler","e","target","tagName","clickedLabel","dataset","textContent","TopBar","ul"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport { useState } from \"react\";\nimport { Bar } from \"react-chartjs-2\";\nimport styled from \"styled-components\";\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  Title,\n  Tooltip,\n  Legend,\n} from \"chart.js\";\nimport { getMainSumTimes, getDetailSumTimes } from \"../../utils/getSumTimesObj\";\nimport { getEntireTimes } from \"../../utils/getEntireTimes\";\nimport { convertMinToTime } from \"../../utils/convertMinToTime\";\n\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  Title,\n  Tooltip,\n  Legend\n);\n\nfunction Chart({\n  thisList,\n  lastList,\n  pageType,\n  restList = \"undefined\",\n  selectedDate,\n}: any) {\n  const year = Number(selectedDate.current.year);\n  const month = Number(selectedDate.current.month);\n\n  const { twoMonthAgo, threeMonthAgo, fourMonthAgo, fiveMonthAgo } = restList;\n\n  const monthList =\n    pageType[2] !== \"Month\"\n      ? []\n      : [\n          {\n            beforeMonth: 5,\n            sumTimes: {\n              ...getMainSumTimes(getEntireTimes(fiveMonthAgo)),\n              ...getDetailSumTimes(fiveMonthAgo),\n            },\n          },\n          {\n            beforeMonth: 4,\n            sumTimes: {\n              ...getMainSumTimes(getEntireTimes(fourMonthAgo)),\n              ...getDetailSumTimes(fourMonthAgo),\n            },\n          },\n          {\n            beforeMonth: 3,\n            sumTimes: {\n              ...getMainSumTimes(getEntireTimes(threeMonthAgo)),\n              ...getDetailSumTimes(threeMonthAgo),\n            },\n          },\n          {\n            beforeMonth: 2,\n            sumTimes: {\n              ...getMainSumTimes(getEntireTimes(twoMonthAgo)),\n              ...getDetailSumTimes(twoMonthAgo),\n            },\n          },\n          {\n            beforeMonth: 1,\n            sumTimes: {\n              ...getMainSumTimes(getEntireTimes(lastList)),\n              ...getDetailSumTimes(lastList),\n            },\n          },\n          {\n            beforeMonth: 0,\n            sumTimes: {\n              ...getMainSumTimes(getEntireTimes(thisList)),\n              ...getDetailSumTimes(thisList),\n            },\n          },\n        ];\n  console.log(monthList);\n  const [selectedList, setSelectedList] = useState({\n    list: \"IMPROVE_TIME\",\n    title: \"자기계발\",\n  });\n\n  const getChartData = (dayData: any) => {\n    const improveArr = dayData.entireTime.entireImprove.split(\":\");\n    const privateArr = dayData.entireTime.entirePrivate.split(\":\");\n    const sleepArr = dayData.entireTime.entireSleep.split(\":\");\n    const worksArr = dayData.entireTime.entireWorks.split(\":\");\n    const studyArr = dayData.improve.study.split(\":\");\n    const readingArr = dayData.improve.reading.split(\":\");\n\n    switch (selectedList.list) {\n      case \"IMPROVE_TIME\":\n        return Number(improveArr[0]) + Number(improveArr[1] * 0.016);\n      case \"PRIVATE_TIME\":\n        return Number(privateArr[0]) + Number(privateArr[1] * 0.016);\n\n      case \"SLEEP_TIME\":\n        return Number(sleepArr[0]) + Number(sleepArr[1] * 0.016);\n      case \"WORK_TIME\":\n        return Number(worksArr[0]) + Number(worksArr[1] * 0.016);\n      case \"STUDY_TIME\":\n        return Number(studyArr[0]) + Number(studyArr[1] * 0.016);\n      case \"READING_TIME\":\n        return Number(readingArr[0]) + Number(readingArr[1] * 0.016);\n    }\n  };\n\n  const getMonthChartData = (monthData: any) => {\n    switch (selectedList.list) {\n      case \"IMPROVE_TIME\":\n        return Number(\n          convertMinToTime(monthData.sumTimes.sumImprove).split(\"시간\")[0]\n        );\n      case \"PRIVATE_TIME\":\n        return Number(\n          convertMinToTime(monthData.sumTimes.sumPrivate).split(\"시간\")[0]\n        );\n      case \"SLEEP_TIME\":\n        return Number(\n          convertMinToTime(monthData.sumTimes.sumSleep).split(\"시간\")[0]\n        );\n      case \"WORK_TIME\":\n        return Number(\n          convertMinToTime(monthData.sumTimes.sumWorks).split(\"시간\")[0]\n        );\n      case \"STUDY_TIME\":\n        return Number(\n          convertMinToTime(monthData.sumTimes.sumStudy).split(\"시간\")[0]\n        );\n      case \"READING_TIME\":\n        return Number(\n          convertMinToTime(monthData.sumTimes.sumReading).split(\"시간\")[0]\n        );\n    }\n  };\n\n  const weekDataSets = [\n    {\n      label: `지난${pageType[1]}`,\n      data: lastList.map((day: any) => {\n        return getChartData(day);\n      }),\n      backgroundColor: \"rgba(71, 71, 71, 0.3)\",\n    },\n    {\n      label: `이번${pageType[1]}`,\n      data: thisList.map((day: any) => {\n        return getChartData(day);\n      }),\n      backgroundColor: () => {\n        switch (selectedList.list) {\n          case \"IMPROVE_TIME\":\n            return \"rgba(255, 187, 0, 0.8)\";\n          case \"PRIVATE_TIME\":\n            return \"rgba(241, 66, 43, 0.8)\";\n          case \"SLEEP_TIME\":\n            return \"rgba(107, 29, 195, 0.5)\";\n          case \"WORK_TIME\":\n            return \" rgba(74, 200, 190, 0.8)\";\n          case \"STUDY_TIME\":\n            return \"rgba(228, 130, 2, 0.8)\";\n          case \"READING_TIME\":\n            return \"rgba(1, 78, 5, 0.801)\";\n        }\n      },\n    },\n  ];\n\n  const monthDataSets = [\n    {\n      label: `${selectedList.title}`,\n      data: monthList.map((month) => {\n        return getMonthChartData(month);\n      }),\n      backgroundColor: () => {\n        switch (selectedList.list) {\n          case \"IMPROVE_TIME\":\n            return \"rgba(251, 184, 1, 0.8)\";\n          case \"PRIVATE_TIME\":\n            return \"rgba(241, 66, 43, 0.8)\";\n          case \"SLEEP_TIME\":\n            return \"rgba(107, 29, 195, 0.8)\";\n          case \"WORK_TIME\":\n            return \" rgba(0, 226, 207, 0.8)\";\n          case \"STUDY_TIME\":\n            return \"rgba(228, 130, 2, 0.8)\";\n          case \"READING_TIME\":\n            return \"rgba(49, 37, 2, 0.8)\";\n        }\n      },\n    },\n  ];\n\n  const monthLabels = Array(6)\n    .fill(\"\")\n    .map((_, idx) => {\n      const returnMonth = month - idx;\n      switch (returnMonth) {\n        case 0:\n          return \"12월\";\n        case -1:\n          return \"11월\";\n        case -2:\n          return \"10월\";\n        case -3:\n          return \"9월\";\n        case -4:\n          return \"8월\";\n        default:\n          return `${returnMonth}월`;\n      }\n    })\n    .reverse();\n\n  const weekLabels = [\"월\", \"화\", \"수\", \"목\", \"금\", \"토\", \"일\"];\n\n  const data = {\n    labels:\n      pageType[2] === \"Week\"\n        ? weekLabels\n        : pageType[2] === \"Month\"\n        ? monthLabels\n        : monthLabels,\n    datasets:\n      pageType[2] === \"Week\"\n        ? weekDataSets\n        : pageType[2] === \"Month\"\n        ? monthDataSets\n        : monthDataSets,\n  };\n\n  const options = {\n    responsive: true,\n    layout: {\n      padding: 30,\n    },\n    plugins: {\n      legend: {\n        position: \"top\" as const,\n        labels: {\n          font: {\n            size: 13,\n          },\n        },\n      },\n      title: {\n        display: true,\n        text: `${selectedList.title} 시간 통계`,\n        font: {\n          size: 15,\n          weight: \"bold\",\n        },\n      },\n      // \"#36424F\"\n      datalabels: {\n        color: \"black\",\n        font: {\n          size: 10,\n        },\n        formatter: (value: any, context: any) => {\n          const hour = Math.floor(value);\n          const minutes = Math.floor((value - hour) * 60);\n          return `${hour}시간 ${minutes}분`;\n        },\n      },\n    },\n    scales: {\n      y: {\n        ticks: {\n          callback: (value: any, index: any, ticks: any) => {\n            return `${Math.floor(value)}시간`;\n          },\n        },\n      },\n    },\n  };\n\n  const listClickHandler = (e: any): void => {\n    if (e.target.tagName === \"LI\") {\n      const clickedLabel: string = e.target.dataset.labels;\n      setSelectedList({\n        ...selectedList,\n        list: clickedLabel,\n        title: e.target.textContent,\n      });\n    }\n  };\n\n  return (\n    <>\n      <TopBar onClick={listClickHandler}>\n        <li data-labels=\"IMPROVE_TIME\">자기계발</li>\n        <li data-labels=\"PRIVATE_TIME\">개인시간</li>\n        <li data-labels=\"WORK_TIME\">일</li>\n        <li data-labels=\"SLEEP_TIME\">취침</li>\n        <li data-labels=\"STUDY_TIME\">공부시간</li>\n        <li data-labels=\"READING_TIME\">독서 및 신문</li>\n      </TopBar>\n      <Bar options={options} data={data} />\n    </>\n  );\n}\n\nconst TopBar = styled.ul`\n  display: flex;\n  position: relative;\n  justify-content: space-around;\n  margin-bottom: 2rem;\n  li {\n    width: 5rem;\n    color: #36424f;\n    text-align: center;\n    font-weight: bold;\n    font-size: 0.8rem;\n    padding-bottom: 0.2rem;\n    border-bottom: 2px solid transparent;\n    cursor: pointer;\n  }\n\n  li:hover {\n    border-bottom: 2px solid #1671cc;\n    transition-property: border-bottom;\n    transition-duration: 1s;\n  }\n`;\n\nexport default Chart;\n"]},"metadata":{},"sourceType":"module"}